/**********************************************************************************************************************
*                                        (c) COPYRIGHT by OAO SUPERTEL.                                             *
*                                               All rights reserved.                                                  *
***********************************************************************************************************************


******************************************************************************
*
* Module      : mpcapp_main.c
*
* Description : Startup Main function for MPC P2020 Router.
*
* Author      : Konstantin Shiluaev
*
******************************************************************************

******************************************************************************
*
* Module's Description Record:
* ============================
*
* $ProjectRevision: 0.0.1 $
* $Source: 
* $State: Debug$
* $Revision: 0.0.1 $ $Name: $
* $Date: 2012/09/26 14:16:51 $
* $Locker: $
*
* Module's revision history:
* ==========================
* --------- $Log: mpcapp_user.h $
* --------- Initial revision
******************************************************************************/
/*-----------------------------------------------------------------------------
GENERAL NOTES


-----------------------------------------------------------------------------*/


/*****************************************************************************/
/*	COMMON CONFIGURATION						     */
/*****************************************************************************/


/*****************************************************************************/
/*	INCLUDES							     */
/*****************************************************************************/

//#include <stdio.h>						 /* snprintf */
//#include <stdlib.h>					     /* malloc, free */
//#include <string.h>					     /* memset, strncmp */

//#include <sys/types.h>
//#include <sys/stat.h>

//#include <mpcapp_user.h> /* user support functions */


/*****************************************************************************/
/*	PRIVATE MACROS							     */
/*****************************************************************************/


/*****************************************************************************/
/*	PRIVATE DATA TYPES						     */
/*****************************************************************************/


/*****************************************************************************/
/*	PRIVATE FUNCTION PROTOTYPES					     */
/*****************************************************************************/


/*****************************************************************************/
/*	PRIVATE GLOBALS							     */
/*****************************************************************************/



/*****************************************************************************/
/*	PUBLIC GLOBALS							     */
/*****************************************************************************/



/*****************************************************************************/
/*	EXTERNAL REFERENCES						     */
/*****************************************************************************/



/*****************************************************************************/
/*	PUBLIC FUNCTION DEFINITIONS					     */
/*****************************************************************************/
#define QUERY_MAX_SIZE		32
char * query_str;



void print_evar (const char * var)
{
	char * tmp = getenv (var);
	if (tmp == 0)
	{
		printf ("%s is not set\n", var);
		return;
	}
	printf ("%s=%s\n", var, tmp);
}

/**************************************************************************************************
Syntax:      	    int main(int argc, char **argv)

Remarks:			main entry point function. 

Return Value:	    1  =>  Success  ,-1 => Failure

***************************************************************************************************/
int main(int argc, char **argv)
{
char *set_env="SUPER";
char *val_env="192";
int overwrite =0;
int ret;

printf("START_APPLICATION\n\r");

query_str = (char *) calloc (QUERY_MAX_SIZE, sizeof(char));
strncpy (query_str, "FOO=foo_value1", QUERY_MAX_SIZE-1);

ret = putenv (query_str);
print_evar ("FOO");



free (query_str);



#if 0

char *string ="MONSTR=512";

ret_val=putenv(string);

//ret_val=setenv(set_env, val_env,0);
//unsetenv("TERM");
printf("ret_val=%d\n\r",ret_val);
 
//char *myenvvar=getenv("SUPER");
//printf("The editor environment variable is set to %s\n",myenvvar);
#endif


return 0;
}



